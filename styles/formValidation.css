/* :user-invalid, :user-valid, label input:valid:not(:focus):before { content: attr(data-error-message)} "before werkt niet op input op firefox dus moet op de label"*/

:root {
    --color-not-valid: #8fcae7;
    --color-error: rgb(255, 123, 0);
    --color-valid: green;
}

html:has(main form > section#eersteSection:not(:target) > fieldset:invalid){
    & main nav a:nth-child(1) {
        background-color: var(--color-not-valid);
    }
}
html:has(main form > section#tweedeSection:not(:target) > fieldset:invalid){
    & main nav a:nth-child(2) {
        background-color: var(--color-not-valid);
    }
}
html:has(main form > section#derdeSection:not(:target) > fieldset:invalid){
    & main nav a:nth-child(3) {
        background-color: var(--color-not-valid);
    }
}

/* if the input is valid or not, and not empty, show a feedback border */
input:user-valid:not(:placeholder-shown) {
    border: var(--color-valid) solid 2px;
}
input:user-invalid:not(:placeholder-shown) {
    border: var(--color-error) solid 2px;
}

/* Als er iets fout is ingevuld en de input niet leeg is in de fieldset, de link naar die fieldset is rood */
html:has(main form > section#eersteSection:not(:target) fieldset input:user-invalid:not(:placeholder-shown)) {
    & main nav a:nth-child(1) {
        background-color: var(--color-error);
    }
/* TODO dit ook voor de andere sections */
}

/* als een label invalid is, geen focus heeft, en niet leeg is: geef dan de error message uit de data attribute*/
label:has(input:user-invalid:not(:focus):not(:placeholder-shown))::after {
    content: attr(data-error-message);
    height: 20px;
    width: 3em;
    color: var(--color-error);
}

/* TODO als placeholder-shown niet is supported doet de rest het dan wel? */
/* placeholder-shown caniuse: https://caniuse.com/?search=%3Aplaceholder-shown */

/* TODO fix bc it isnt doing anything */
form:invalid {
    & button[value="Verstuur"] {
        display: none;
    }
    & button:disabled {
        display: inline;
    }
}